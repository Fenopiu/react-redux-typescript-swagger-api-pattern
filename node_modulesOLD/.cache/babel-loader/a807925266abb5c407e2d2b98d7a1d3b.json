{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar typescript_fsa_1 = require(\"typescript-fsa\");\n\nfunction reducerWithInitialState(initialState) {\n  return makeReducer(initialState);\n}\n\nexports.reducerWithInitialState = reducerWithInitialState;\n\nfunction reducerWithoutInitialState() {\n  return makeReducer();\n}\n\nexports.reducerWithoutInitialState = reducerWithoutInitialState;\n\nfunction upcastingReducer() {\n  return makeReducer();\n}\n\nexports.upcastingReducer = upcastingReducer;\n\nfunction makeReducer(initialState) {\n  var cases = [];\n  var reducer = getReducerFunction(initialState, cases);\n\n  reducer.caseWithAction = function (actionCreator, handler) {\n    cases.push({\n      actionCreator: actionCreator,\n      handler: handler\n    });\n    return reducer;\n  };\n\n  reducer.case = function (actionCreator, handler) {\n    return reducer.caseWithAction(actionCreator, function (state, action) {\n      return handler(state, action.payload);\n    });\n  };\n\n  reducer.casesWithAction = function (actionCreators, handler) {\n    for (var _i = 0, actionCreators_1 = actionCreators; _i < actionCreators_1.length; _i++) {\n      var actionCreator = actionCreators_1[_i];\n      reducer.caseWithAction(actionCreator, handler);\n    }\n\n    return reducer;\n  };\n\n  reducer.cases = function (actionCreators, handler) {\n    return reducer.casesWithAction(actionCreators, function (state, action) {\n      return handler(state, action.payload);\n    });\n  };\n\n  reducer.build = function () {\n    return getReducerFunction(initialState, cases.slice());\n  };\n\n  return reducer;\n}\n\nfunction getReducerFunction(initialState, cases) {\n  return function (state, action) {\n    if (state === void 0) {\n      state = initialState;\n    }\n\n    for (var _i = 0, cases_1 = cases; _i < cases_1.length; _i++) {\n      var _a = cases_1[_i],\n          actionCreator = _a.actionCreator,\n          handler = _a.handler;\n\n      if (typescript_fsa_1.isType(action, actionCreator)) {\n        return handler(state, action);\n      }\n    }\n\n    return state;\n  };\n}","map":null,"metadata":{},"sourceType":"script"}